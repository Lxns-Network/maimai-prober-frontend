# 更新日志

---

## 2024/3/25

- 修复中二节奏成绩分数低于 975,000 时，Rating 计算错误的问题

## 2024/3/23

- 查分器现在切换页面时，不会重复获取曲目列表
- 现在查分器里所有的曲目搜索框都支持搜索曲目别名

## 2024/3/21

- 修复爬取舞萌 DX 收藏品时，部分收藏品获取错误的问题
- 舞萌 DX 新增接口：
  - [获取收藏品分类列表](/docs/api/maimai#get-apiv0maimaicollection-genrelist)
  - [获取收藏品分类信息](/docs/api/maimai#get-apiv0maimaicollection-genrecollection_genre_id)
- 舞萌 DX `Collection` 结构体中新增 `genre` 字段，用于获取收藏品分类（日文）

## 2024/3/18

- 现在可以直接在曲目查询页创建曲目别名

## 2024/3/17

- 曲目查询现在支持查询已批准的曲目别名列表
- 修复姓名框查询要求曲目难度为 Re:MASTER 时，会显示不属于该难度曲目的问题

## 2024/3/14

- DX Rating 趋势坐标轴的日期现在为数值型，不再为类目型
  > 上传历史记录由于同一天内可能有多次上传，因此日期为类目型
- 上传历史记录现在纵轴为达成率，不再为 DX Rating
- 为了方便观察达成率变化，上传历史记录现在会过滤掉达成率低于 80% 的成绩

## 2024/3/13

- 支持将成绩导出为 `.csv` 文件
- 支持导入成绩
- 优化成绩管理谱面定数筛选

## 2024/3/9

- **创建玩家信息**新增请求示例
- 修复**获取玩家信息**时，`trophy` 字段可能为空的问题

## 2024/3/7

- 舞萌 DX `Player` 结构体中新增 `icon` 字段，用于获取玩家头像
- 舞萌 DX 新增爬取配置项**允许爬取头像**：`allow_crawl_icon`
  > 允许后，每次爬取将会爬取头像并显示到玩家信息中
- 中二节奏 `Player` 结构体中新增 `character` 字段，用于获取玩家角色
- 中二节奏新增爬取配置项**允许爬取角色**：`allow_crawl_character`
  > 允许后，每次爬取将会爬取角色并显示到玩家信息中
- 舞萌 DX、中二节奏 `Player` 结构体中即将删除字段：`icon_url`
- 优化页面在手机端部分浏览器的滚动体验

## 2024/3/4

- 新增隐私设置配置项**允许读取历史成绩**：`allow_third_party_fetch_history`
  > 允许后，第三方开发者可以获取你的 DX Rating 趋势（中二节奏暂不支持）与成绩上传历史记录
- 舞萌 DX 新增接口：
  - [获取玩家 DX Rating 趋势](/docs/api/maimai#get-apiv0maimaiplayerfriend_codetrend)
  - [获取玩家成绩上传历史记录](/docs/api/maimai#get-apiv0maimaiplayerfriendcodescorehistory)
- 中二节奏新增[获取玩家成绩上传历史记录](/docs/api/chunithm#get-apiv0chunithmplayerfriendcodescorehistory)接口
- 中二节奏支持查询成绩上传历史记录

## 2024/3/2

- 曲目查询支持试听曲目

## 2024/3/1

- 成绩详情支持直接跳转查看曲目详情

## 2024/2/29

- 部分页面支持点击曲绘查看大图

## 2024/2/27

- 新增[曲目查询](/songs)，可以查询舞萌 DX 与中二节奏的曲目详情

## 2024/2/26

- 姓名框查询现在不需要强制登录使用

## 2024/2/25

- 重构姓名框查询要求曲目界面
- 姓名框查询现在支持搜索姓名框

## 2024/2/24

- 修复查询 Full Combo 姓名框曲目进度有误的问题
- 修复暗色或自动主题进入页面时的闪烁问题
- 优化成绩统计信息在手机端的显示效果
- 优化按钮点击效果

## 2024/2/21

- 修复舞萌 DX 通过增量爬取为现有成绩增加游玩时间时，有部分成绩没有生效的问题
- 修复文档标题跳转问题

## 2024/2/20

- 优化查分器页面报错与 404 提示

## 2024/2/19

- 新增爬取数据配置项**允许覆盖最佳成绩**：`allow_overwrite_best_score`
  > 允许后，每次“完整爬取”或通过第三方开发者写入时会检查成绩是否低于最佳成绩，低于则覆盖最佳成绩。

## 2024/1/30

- 将文档迁移至查分器
- 新增服务条款与隐私政策

## 2024/1/28

- 优化中二节奏[获取曲目列表](/docs/api/chunithm#get-apiv0chunithmsonglist)接口，现在更加类似舞萌 DX 的曲目列表：
  - 单曲 `genres` 字段现在更改为 `genre`，类型由 `Genre[]` 变更为 `string`
  - 单曲新增 `bpm`、`version` 字段
  - 难度新增 `note_designer`、`version` 字段
  - 难度新增 `notes` 字段，用于获取谱面不同 Note 的物量
  - 新增 `versions`、`genres` 字段
- 中二节奏[获取曲目列表](/docs/api/chunithm#get-apiv0chunithmsonglist)接口现在支持 `notes` 查询参数，控制是否包含谱面物量

## 2024/1/27

- 成绩管理现在支持筛选上传时间
- 优化成绩管理的曲目搜索体验
- 优化关于相同成绩冲突时，判断的成绩更新逻辑：
  - 增量爬取（判断游玩时间先后）：
    1. 若旧成绩没有游玩时间，则更新旧成绩的游玩时间，**不会插入新成绩**
    2. 若新成绩游玩时间与旧成绩不一致，才**会插入新成绩**
  - 完整爬取（不判断游玩时间先后）：若旧成绩有游玩时间，则**不会插入新成绩**
- 修复爬取时多次保存重复成绩的问题

## 2024/1/25

- 成绩管理现在支持手动创建成绩
- 成绩管理现在支持删除单曲成绩
- 同步游戏数据现在不需要强制登录使用

## 2024/1/21

- 支持跟随系统变更主题
- 支持通过全连、全同步筛选成绩

## 2024/1/13

- 支持查看玩家详情
- 支持获取 DX Rating 趋势图

## 2024/1/12

- 支持保存账号详情（用户名、邮箱）
- 成绩管理现在支持使用别名搜索
- 成绩管理现在支持使用曲目 ID 排序
- 修复中二节奏爬取无法正常获取到金币数量的问题

## 2024/1/9

- 修复舞萌 DX 姓名框获取进度有误的问题
- 姓名框查询支持仅显示要求曲目的姓名框

## 2024/1/7

- 修复舞萌 DX 成绩管理版本筛选有误的问题

## 2024/1/6

- 成绩管理页面现在支持查询中二节奏成绩

## 2023/12/20

- 舞萌 DX `Player` 结构体中删除字段：
  - `rating_base_url`
  - `course_rank_url`
  - `class_rank_url`

## 2023/12/19

- 新增**获取曲目别名列表**接口