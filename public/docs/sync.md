# 同步游戏数据

---

## 同步方法

### 在线同步（查分器网页）

在线同步需要注册并登录查分器账号，在[同步游戏数据](/user/sync)跟随页面内指引，正确配置 HTTP 代理并获取 OAuth 链接（链接中通常带 `token` 参数）。

适用于用户初次同步，将玩家数据绑定到查分器账号。

### 离线同步

离线同步不需要登录查分器账号，且 OAuth 链接通常固定不变。

如果先前已经将玩家数据绑定到查分器账号，则查分器账号中的设置也会在离线同步中生效。

| 特性 | 在线同步 | 离线同步 |
|-|-|-|
| 支持同步舞萌 DX、中二节奏 | ✔️ | ✔️ |
| 开发者 API 查询 | ✔️ | ✔️ |
| 绑定查分器账号 | ✔️ | ❌ |
| 查询同步结果 | ✔️ | ❌ |
| 同步超时时间 | 10 分钟 | 10 分钟 |
| OAuth 链接固定不变 | ❌ | ✔️ |
| OAuth 链接有效期 | 15 分钟 | 长期有效 |

## 通用同步步骤

### 一、配置 HTTP 代理

#### Windows 11

打开系统设置中的代理（或在浏览器地址栏输入 `ms-settings:network-proxy` 快捷打开）：

![](https://image.lxns.net/i/2024/02/19/102207.png)

编辑代理服务器为以下 IP 和端口，并启用代理：

```
proxy.maimai.lxns.net:8080
```

![](https://image.lxns.net/i/2024/02/19/102250.png)


#### Android

暂无教程。

#### iOS & iPadOS

暂无教程。

### 二、使用微信打开 OAuth 链接

#### 在线同步获取

在同步游戏数据页正确配置代理后，选择爬取的游戏并直接复制 OAuth 链接（带 `token`）。

#### 离线同步获取

根据需要选择对应游戏的 OAuth 链接：

- OAuth 链接（舞萌 DX）：
```
https://maimai.lxns.net/api/v0/maimai/wechat/auth
```

- OAuth 链接（中二节奏）：
```
https://maimai.lxns.net/api/v0/chunithm/wechat/auth
```

在聊天中输入 OAuth 链接并发送至安全的聊天（如文件传输助手），直接点击链接打开网页。

若页面显示为如下内容，则代表你的玩家数据已经被上传至服务器进行处理：

![](https://image.lxns.net/i/2024/02/19/102330.png)

### 三、等待数据同步完成（仅在线同步）

> 离线同步不支持查询数据同步状态。

同步完成后，返回同步游戏数据页查询成绩爬取状态。届时，你的玩家数据与成绩将会被同步到查分器，并与你的查分器账号绑定。
